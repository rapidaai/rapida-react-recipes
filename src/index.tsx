import React from "react";
import ReactDOM from "react-dom/client";
import "./index.css";
import { WebAgent } from "./examples/web-app";
import { MakePhoneCall } from "./examples/make-phone-call";
import { useState } from "react";
import {
  Github,
  Globe2,
  Mic,
  Phone,
  PhoneCall,
  Sparkles,
  Volume2,
} from "lucide-react";
import clsx from "clsx";

function App() {
  const [activeComponent, setActiveComponent] = useState("Web Voice");

  const menuItems = [
    {
      id: "Web Voice",
      label: "Adding voice agent in web",
      icon: <Globe2 className="w-4 h-4" />,
      component: "Web Voice",
    },
    {
      id: "Phone Call",
      icon: <PhoneCall className="w-4 h-4" />,
      label: "Intiating a phone call",
      component: "Phone Call",
    },
  ];

  return (
    <div className="flex h-screen bg-white dark:bg-gray-950 font-sans">
      {/* Sidebar */}
      <div className="w-80 border-r border-gray-200 dark:border-gray-800 flex flex-col justify-between shrink-0">
        {/* Header */}
        <div>
          <div className="py-5 px-3 border-b border-gray-300 dark:border-gray-800">
            <a
              className="w-32 shrink-0 focus:outline-offset-4 focus:outline-alpha2 flex text-blue-600 space-x-1.5"
              aria-label="Pinecone"
              href="/"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 500 500"
                fill="currentColor"
                stroke="currentColor"
                strokeLinecap="round"
                strokeLinejoin="round"
                className={clsx("w-7 h-7")}
              >
                <path
                  strokeWidth={10}
                  d="M 224.704 412.441 C 216.453 421.53 205.691 426.5 194.351 426.5 C 183.042 426.5 172.251 421.501 163.997 412.413 L 49.12 286.061 C 30.902 266.033 30.902 233.474 49.12 213.446 L 163.997 87.094 C 172.251 78.006 183.009 73.036 194.351 73.036 C 205.661 73.036 216.453 78.036 224.704 87.124 L 238.677 102.476 L 249.893 90.27 L 238.523 77.771 C 227.03 65.154 210.949 57.889 194.351 57.889 C 177.751 57.889 161.674 65.124 150.18 77.771 L 35.305 204.121 C 12.407 229.298 12.407 270.268 35.305 295.444 L 150.18 421.794 C 161.827 434.618 177.509 441.676 194.351 441.676 C 211.195 441.676 226.876 434.618 238.523 421.794 L 249.802 409.382 L 238.612 397.118 L 224.704 412.441 Z"
                />
                <path
                  strokeWidth={10}
                  d="M 313.261 412.441 C 305.009 421.53 294.247 426.5 282.907 426.5 C 271.598 426.5 260.807 421.501 252.553 412.413 L 137.678 286.061 C 119.46 266.033 119.46 233.474 137.678 213.446 L 252.553 87.094 C 260.807 78.006 271.567 73.036 282.907 73.036 C 294.219 73.036 305.009 78.036 313.261 87.124 L 322.678 97.477 L 334.935 86.418 L 327.08 77.771 C 315.586 65.154 299.505 57.889 282.907 57.889 C 266.309 57.889 250.231 65.124 238.737 77.771 L 123.861 204.121 C 100.963 229.298 100.963 270.268 123.861 295.444 L 238.737 421.794 C 250.384 434.618 266.065 441.676 282.907 441.676 C 299.751 441.676 315.432 434.618 327.08 421.794 L 335.731 412.265 L 324.511 400.059 L 313.261 412.441 Z"
                />
                <path d="M 451.188 197.621 L 362.721 100.329 L 336.525 128.8 L 418.936 219.415 C 426.396 227.592 430.095 238.621 430.063 249.621 C 430.095 260.621 426.396 271.65 418.936 279.827 L 336.525 370.442 L 362.721 398.912 L 451.188 301.619 C 464.24 287.267 470.718 268.444 470.69 249.591 C 470.718 230.797 464.24 211.945 451.188 197.621 Z" />
                <path d="M 360.155 198.681 L 271.688 101.388 L 245.494 129.858 L 327.904 220.475 C 335.363 228.651 339.062 239.679 339.03 250.679 C 339.062 261.679 335.363 272.709 327.904 280.885 L 245.494 371.502 L 271.688 399.971 L 360.155 302.679 C 373.207 288.326 379.687 269.503 379.657 250.65 C 379.687 231.886 373.207 213.033 360.155 198.681 Z" />
              </svg>
              <svg
                fill="currentColor"
                stroke="currentColor"
                strokeWidth="0.5"
                className={"w-auto h-6"}
                viewBox="0 0 242 72"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path d="M4.93332 56V25.9333H-1.60933e-05V16H10.1333V23.7333H12.9333C14.0444 21.0667 15.7555 19.0444 18.0667 17.6667C20.3778 16.2889 23.0222 15.6 26 15.6H29.3333V24.1333H25.5333C21.9333 24.1333 19.2222 25.1778 17.4 27.2667C15.6222 29.3556 14.7333 32.1333 14.7333 35.6V56H4.93332ZM46.9 56.7333C42.2333 56.7333 38.5667 55.6 35.9 53.3333C33.2778 51.0667 31.9667 48.0667 31.9667 44.3333C31.9667 40.4222 33.3 37.4 35.9667 35.2667C38.6778 33.1333 42.5667 32.0667 47.6333 32.0667H59.8333V30.4667C59.8333 25.5778 56.9889 23.1333 51.3 23.1333C46.5 23.1333 43.5889 24.8667 42.5667 28.3333H32.6333C33.4333 24.0667 35.4333 20.8222 38.6333 18.6C41.8778 16.3333 46.1 15.2 51.3 15.2C57.1667 15.2 61.6333 16.5333 64.7 19.2C67.7667 21.8222 69.3 25.6667 69.3 30.7333V46.0667H74.0333V56H63.8333V49.6H61.0333C59.6555 51.8667 57.7889 53.6222 55.4333 54.8667C53.1222 56.1111 50.2778 56.7333 46.9 56.7333ZM48.3667 49.0667C50.5444 49.0667 52.5 48.6667 54.2333 47.8667C55.9667 47.0222 57.3222 45.9111 58.3 44.5333C59.3222 43.1111 59.8333 41.5333 59.8333 39.8V38.8667H48.1667C43.6778 38.8667 41.4333 40.5333 41.4333 43.8667C41.4333 45.5111 42.0333 46.8 43.2333 47.7333C44.4778 48.6222 46.1889 49.0667 48.3667 49.0667ZM82.1573 72V25.9333H77.2239V16H87.4239V22.4H90.2239C91.6017 20.0889 93.4684 18.3111 95.8239 17.0667C98.1795 15.8222 101.024 15.2 104.357 15.2C108.491 15.2 111.957 16.0667 114.757 17.8C117.602 19.4889 119.757 21.8889 121.224 25C122.691 28.1111 123.424 31.7778 123.424 36C123.424 40.2222 122.691 43.8889 121.224 47C119.802 50.1111 117.735 52.5333 115.024 54.2667C112.313 55.9556 109.046 56.8 105.224 56.8C102.202 56.8 99.6017 56.2222 97.4239 55.0667C95.2462 53.9111 93.5573 52.2889 92.3573 50.2H92.0906V72H82.1573ZM102.557 48.2C106.157 48.2 108.868 47.1333 110.691 45C112.557 42.8222 113.491 39.8222 113.491 36C113.491 32.1778 112.557 29.2 110.691 27.0667C108.868 24.8889 106.157 23.8 102.557 23.8C99.4017 23.8 96.8684 24.7111 94.9573 26.5333C93.0462 28.3111 92.0906 30.7556 92.0906 33.8667V38.1333C92.0906 41.2444 93.0462 43.7111 94.9573 45.5333C96.8684 47.3111 99.4017 48.2 102.557 48.2ZM130.895 56V16H140.828V56H130.895ZM135.828 11.6C134.273 11.6 132.939 11.0667 131.828 10C130.761 8.88889 130.228 7.55555 130.228 6C130.228 4.44444 130.761 3.13333 131.828 2.06667C132.939 0.955556 134.273 0.400001 135.828 0.400001C137.384 0.400001 138.695 0.955556 139.761 2.06667C140.873 3.13333 141.428 4.44444 141.428 6C141.428 7.55555 140.873 8.88889 139.761 10C138.695 11.0667 137.384 11.6 135.828 11.6ZM167.339 56.8C163.25 56.8 159.783 55.9556 156.939 54.2667C154.094 52.5333 151.916 50.1111 150.405 47C148.939 43.8444 148.205 40.1778 148.205 36C148.205 31.7778 148.916 28.1111 150.339 25C151.805 21.8889 153.894 19.4889 156.605 17.8C159.361 16.0667 162.65 15.2 166.472 15.2C169.494 15.2 172.094 15.7778 174.272 16.9333C176.45 18.0444 178.116 19.6667 179.272 21.8H179.539V9.53674e-07H189.472V46.0667H194.405V56H184.272V49.6H181.472C180.05 51.9111 178.161 53.6889 175.805 54.9333C173.45 56.1778 170.627 56.8 167.339 56.8ZM169.072 48.2C172.272 48.2 174.805 47.3111 176.672 45.5333C178.583 43.7111 179.539 41.2444 179.539 38.1333V33.8667C179.539 30.7556 178.583 28.3111 176.672 26.5333C174.805 24.7111 172.272 23.8 169.072 23.8C165.516 23.8 162.805 24.8889 160.939 27.0667C159.072 29.2 158.139 32.1778 158.139 36C158.139 39.8222 159.072 42.8222 160.939 45C162.805 47.1333 165.516 48.2 169.072 48.2ZM214.009 56.7333C209.343 56.7333 205.676 55.6 203.009 53.3333C200.387 51.0667 199.076 48.0667 199.076 44.3333C199.076 40.4222 200.409 37.4 203.076 35.2667C205.787 33.1333 209.676 32.0667 214.743 32.0667H226.943V30.4667C226.943 25.5778 224.098 23.1333 218.409 23.1333C213.609 23.1333 210.698 24.8667 209.676 28.3333H199.743C200.543 24.0667 202.543 20.8222 205.743 18.6C208.987 16.3333 213.209 15.2 218.409 15.2C224.276 15.2 228.743 16.5333 231.809 19.2C234.876 21.8222 236.409 25.6667 236.409 30.7333V46.0667H241.143V56H230.943V49.6H228.143C226.765 51.8667 224.898 53.6222 222.543 54.8667C220.232 56.1111 217.387 56.7333 214.009 56.7333ZM215.476 49.0667C217.654 49.0667 219.609 48.6667 221.343 47.8667C223.076 47.0222 224.432 45.9111 225.409 44.5333C226.432 43.1111 226.943 41.5333 226.943 39.8V38.8667H215.276C210.787 38.8667 208.543 40.5333 208.543 43.8667C208.543 45.5111 209.143 46.8 210.343 47.7333C211.587 48.6222 213.298 49.0667 215.476 49.0667Z" />
              </svg>
            </a>
          </div>

          {/* Navigation */}
          <nav className="">
            <ul className="space-y-1">
              {menuItems.map((item) => (
                <li key={item.id}>
                  <button
                    onClick={() => setActiveComponent(item.component)}
                    className={`
                    w-full px-4 py-2 transition-colors flex gap-3 items-center
                    ${
                      activeComponent === item.component
                        ? "bg-gray-200 dark:bg-gray-900 text-gray-500 dark:text-gray-100"
                        : "text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-900"
                    }
                  `}
                  >
                    {item.icon}
                    {item.label}
                  </button>
                </li>
              ))}
            </ul>
          </nav>
        </div>
        <div>
          <div className="dark:text-gray-300 text-gray-600 px-3 py-3 ">
            <a
              href="https://github.com/rapidaai/rapida-react-recipes"
              target="_blank"
              rel="noopener noreferrer"
              className="flex flex-row items-center gap-2 underline underline-offset-4 hover:text-blue-600"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                fill="currentColor"
                viewBox="0 0 24 24"
              >
                <title>GitHub</title>
                <path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path>
              </svg>
              <span>rapidaai/rapida-react-recipes</span>
            </a>
          </div>
        </div>
      </div>

      {/* Main Content */}
      <div className="flex-1">
        {activeComponent === "Web Voice" && <WebAgent />}
        {activeComponent === "Phone Call" && <MakePhoneCall />}
      </div>
    </div>
  );
}
const root = ReactDOM.createRoot(document.getElementById("root")!);
root.render(<App />);
